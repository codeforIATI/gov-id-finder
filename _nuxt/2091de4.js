(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{433:function(t,e,n){var content=n(438);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(94).default)("7240fb1e",content,!0,{sourceMap:!1})},437:function(t,e,n){"use strict";n(433)},438:function(t,e,n){var o=n(93)((function(i){return i[1]}));o.push([t.i,".organisation-data{margin:0 auto;max-width:700px;--vs-font-size:1.2rem;--vs-search-input-placeholder-color:grey}.organisation-data .organisation-option{display:flex}.organisation-data .organisation-option-label{flex-basis:100%;white-space:normal}.organisation-data .organisation-option-code{font-style:italic;white-space:nowrap}.organisation-data .input-group-text,.organisation-data input{font-size:1.2rem}.organisation-data .vs__selected-options{flex-wrap:nowrap}.organisation-data .vs__search::-moz-placeholder{background:#fff;font-size:1.2rem}.organisation-data .vs__dropdown-menu,.organisation-data .vs__dropdown-toggle,.organisation-data .vs__search::placeholder{background:#fff;font-size:1.2rem}",""]),o.locals={},t.exports=o},442:function(t,e,n){"use strict";n.r(e);n(14),n(5),n(11),n(142),n(4),n(2),n(6),n(7),n(1),n(3);var o=n(0),r=(n(17),n(15),n(24),n(430),n(74)),c=n(65),l=n.n(c),d=n(431),f=n.n(d);n(432);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var v={name:"index",data:function(){return{options:[],placeholder:"E.g. Ministry of Health (Liberia)",selectedOrganisationID:null,selectedOrganisation:{},busy:!1,noOptions:!1,lookup:""}},head:function(){return{htmlAttrs:{class:"h-100"},bodyAttrs:{class:"d-flex flex-column h-100"}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({baseURL:function(){return this.$axios.defaults.baseURL},numCountries:function(){return this.countries.length}},Object(r.b)(["countries"])),components:{vSelect:f.a},methods:{copy:function(){var t=this.selectedOrganisationID.code;navigator.clipboard.writeText(t),this.$bvToast.toast("Copied ".concat(t," to clipboard."),{title:"Copied to clipboard",autoHideDelay:5e3})},filterOptions:function(option,label,t){return((option.label||"")+(option.code||"")).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},fetchOptions:function(t,e){var n=this,o=t.substr(0,3).toLowerCase();""!=o&&o!==this.lookup&&(this.options=[],this.lookup=o,3===o.length&&(e(!0),this.selectedOrganisationID=null,l.a.get("".concat(this.baseURL,"/data/lookup/").concat(o,".json")).then((function(t){n.options=t.data.map((function(t){return{label:t[0],code:t[1]}}))})).catch((function(t){n.options=[]})).then((function(t){e(!1)}))))},fetchOrganisation:function(t){var e=this;this.busy=!0,l.a.get("".concat(this.baseURL,"/data/").concat(t,".json")).then((function(n){e.selectedOrganisation=n.data,e.selectedOrganisationID.label=Object.values(e.selectedOrganisation.name).join(),e.$router.push({name:"index",hash:"#".concat(t)})})).catch((function(t){e.selectedOrganisationID=null})).then((function(t){e.busy=!1}))}},mounted:function(){if(this.$route.hash){var t=this.$route.hash.substr(1);this.selectedOrganisationID={code:t,label:t}}else this.$refs.search_organisation_id.$refs.search.focus()},watch:{selectedOrganisationID:{handler:function(t){null!=t?this.fetchOrganisation(t.code):this.selectedOrganisation={}}}}},_=v,O=(n(437),n(87)),component=Object(O.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e("b-jumbotron",{attrs:{"bg-variant":"white"}},[e("h1",{staticClass:"display-5 text-center"},[t._v("\n      Government Organisation ID Finder\n    ")]),t._v(" "),e("p",{staticClass:"lead text-center"},[t._v("Easily access codes for government entities in "+t._s(t.numCountries)+" countries.")]),t._v(" "),e("b-row",[e("b-col",{staticClass:"organisation-data text-center"},[e("v-select",{ref:"search_organisation_id",staticClass:"mt-2 mb-2",attrs:{options:t.options,placeholder:t.placeholder,"filter-by":t.filterOptions},on:{search:t.fetchOptions},scopedSlots:t._u([{key:"option",fn:function(n){var code=n.code,label=n.label;return[e("span",{staticClass:"organisation-option"},[e("span",{staticClass:"organisation-option-label"},[t._v(t._s(label))]),t._v(" "),e("span",{staticClass:"organisation-option-code"},[t._v(t._s(code))])])]}},{key:"no-options",fn:function(n){var o=n.search;n.searching,n.loading;return[o.length<3?e("span",[t._v("\n              Please enter 3 or more characters.\n            ")]):e("span",[t._v("There are no matching options.")])]}}]),model:{value:t.selectedOrganisationID,callback:function(e){t.selectedOrganisationID=e},expression:"selectedOrganisationID"}})],1)],1),t._v(" "),Object.keys(t.selectedOrganisation).length>0?e("b-row",[e("b-col",{staticClass:"organisation-data"},[e("b-input-group",{attrs:{prepend:"Organisation ID:"}},[e("b-form-input",{ref:"organisation_id",attrs:{readonly:"",value:t.selectedOrganisation.org_id}}),t._v(" "),e("b-input-group-append",[e("b-btn",{attrs:{variant:"primary"},on:{click:t.copy}},[t._v("\n              Copy\n            ")])],1)],1),t._v(" "),e("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Organisation Type:"}},[e("b-form-input",{attrs:{readonly:"",value:"".concat(t.selectedOrganisation.org_type," (").concat(t.selectedOrganisation.org_type_code,")")}})],1),t._v(" "),e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-btn",{staticClass:"mt-2",attrs:{href:t.selectedOrganisation.source_url,variant:"outline-secondary"}},[t._v("Source: "+t._s(t.selectedOrganisation.source_dataset))])],1),t._v(" "),e("b-col",{staticClass:"text-md-right",attrs:{md:"6"}},[e("b-btn",{staticClass:"mt-2",attrs:{to:{name:"countries-id",params:{id:t.selectedOrganisation.country_code},hash:"#".concat(t.selectedOrganisation.org_id)},variant:"outline-secondary"}},[t._v("View on country page")])],1)],1)],1)],1):t._e(),t._v(" "),t.busy?e("b-row",[e("b-col",{staticClass:"text-center"},[e("b-spinner",{attrs:{variant:"secondary",label:"Loading..."}})],1)],1):t._e(),t._v(" "),e("b-row",[e("b-col",{staticClass:"organisation-data text-center lead"},[e("hr"),t._v(" "),e("p",{staticClass:"text-muted"},[t._v("Download for all countries")]),t._v(" "),e("b-btn",{attrs:{variant:"success",href:"".concat(t.baseURL,"/downloads/org-ids.csv")}},[t._v("CSV")]),t._v(" "),e("b-btn",{attrs:{variant:"success",href:"".concat(t.baseURL,"/downloads/org-ids.json")}},[t._v("JSON")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);